<include src="/pages/commonPage/common.wxml"/><block wx:if="{{requestStatus}}"><view wx:if="{{list.length > 0}}" class="flex_column"><view class="shopTitle flex_items plr30 box_b flex_start bgfff"><icon wx:if="{{is_selectAll}}" type="success" size="20" color="#ff8542" catchtap="shopCartEvent" data-types="selectAll"/><icon wx:else type="circle" size="20" catchtap="shopCartEvent" data-types="selectAll"/><view class="flex_between flex1 pl30 box_b c3 f32"><text catchtap="shopCartEvent" data-types="selectAll">全选商品</text><text class="c9" catchtap="shopCartEvent" data-types="caozuoCart">{{is_edit ? '完成' : '编辑'}}</text></view></view><view class="shop_list_box"><template is="{{is_edit ? 'edit' : 'default'}}" data="{{list}}"></template></view><view class="bottom_total_bar bgfff {{is_edit ? 'edit flex_end' : 'flex_between'}}"><view class="flex1 pl30 c3 f28 bte9s" wx:if="{{!is_edit}}"><text>合计：</text><text class="color-red mr30">¥ {{totalMoney}}</text><text class="size-20 c9">不含运费</text></view><view class="jiesuan_btn txt_center f28 cf {{is_edit ? selectCount > 0 ? 'bgff5a' : 'defaultDelete' : selectCount > 0 ?'bgff8' : 'defaultDelete'}}" bindtap="shopCartEvent" data-types="{{is_edit ? 'deleteCart' : 'goPlay'}}"><text wx:if="{{is_edit}}">删除</text><text wx:else>结算{{totalNumber > 0 ? '('+totalNumber+')' : ''}}</text></view></view></view><view wx:if="{{list.length == 0}}" class="null">没有数据</view><block wx:if="{{list.length == 0}}"><copyright-html data="{{config}}"></copyright-html></block></block><template name="edit"><block wx:for="{{list}}" wx:for-item="item" wx:key=""><view class="bgfff mt20 flex_items flex_start pl30 box_b"><icon wx:if="{{item.checked}}" type="success" size="20" color="#ff8542" catchtap="shopCartEvent" data-types="selectGoods" data-index="{{index}}"/><icon wx:else type="circle" size="20" catchtap="shopCartEvent" data-types="selectGoods" data-index="{{index}}"/><view class="goods_info"><image mode="scaleToFill" src="{{item.sku.preview.thumb_small_url}}"></image><view class="delete_text_info"><view class="flex_center"><view class="jian_btn plr20 cc" catchtap="shopCartEvent" data-types="downNumber" data-index="{{index}}">-</view><text class="f34 c3 txt_center flex1">{{item.count}}</text><view class="jia_btn plr20" catchtap="shopCartEvent" data-types="addNumber" data-index="{{index}}">+</view></view><view class="flex_between flex_items"><text class="f24 c9 mb10">{{item.alias === 'default' ? '' : item.alias}}</text></view></view></view><view class="delete_goods {{item.checked ? 'cf bgff5a' : 'defaultDelete'}}" catchtap="shopCartEvent" data-types="deleteGoods" data-index="{{index}}" data-skuid="{{item.sku_id}}">删除</view></view></block></template><template name="default"><block wx:for="{{list}}" wx:for-item="item" wx:key=""><view class="bgfff mt20 flex_items flex_start pl30 box_b"><icon wx:if="{{item.checked}}" type="success" size="20" color="#ff8542" catchtap="shopCartEvent" data-types="selectGoods" data-index="{{index}}"/><icon wx:else type="circle" size="20" catchtap="shopCartEvent" data-types="selectGoods" data-index="{{index}}"/><view class="goods_info" bindtap="shopCartEvent" data-types="goDetialPage" data-id="{{item.product_id}}"><image mode="scaleToFill" src="{{item.sku.preview.thumb_small_url}}"></image><view class="flex1 flex_between flex_column"><text class="goods_title">{{item.title}}</text><view class="flex_column"><text class="f24 c9 mb10">{{item.alias === 'default' ? '' : item.alias}}</text><view class="flex_between flex_items"><view class="goods_price"><text class="f28 cff5">¥ {{item.price}}</text><text wx:if="{{item.oldPrice}}" class="old_price">¥ {{item.oldPrice}}</text></view><text class="f24 c9">x{{item.count}}<text wx:if="{{item.kc}}" class="cff8 f20">(库存不足)</text></text></view></view></view></view></view></block></template>