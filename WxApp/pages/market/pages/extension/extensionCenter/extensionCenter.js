"use strict";var common=getApp().globalData.commonFun,getPhone=getApp().globalData.phoneFun,dataTemp=getApp().globalData.dataTempFun,comfunc=require("../../../../commonPage/extension/comfunc.js");Page({data:{showStatus:!1},tabOffsetTop:null,state:{},onLoad:function(t){this.state.opt=t,wx.showLoading({title:"加载中...",mask:!0});var e=this;common.getAccessToken()?comfunc.setSalesData(e):getApp().globalData.tokenUpdated=function(){console.log("update success"),comfunc.setSalesData(e)}},onReachBottom:function(){if("active"===this.data.selasInfo.status){if(!this.state.hasmore)return;wx.showLoading({title:"加载中...",mask:!0}),this.state.offset=this.state.offset+this.state.limit,comfunc.productList(this,this.state.offset,this.state.applyId,this.state.typeId)}},onShareAppMessage:function(t){var e=this.data.myInfo.id,a=this,o="",s=a.data.selasInfo.title,n=a.data.selasInfo.cover;if("menu"===t.from||"apply"===t.target.dataset.page)o="pages/market/pages/extension/extensionCenter/extensionCenter?uid="+e;else{var i=this.data.tgDataDetail;n=i.cover.thumb_small_url,s=i.title,o=comfunc.tgShare(this)}return console.log(o),a.fangShiHide(),{title:s,imageUrl:n,path:o}},store:function(t){this.setData(t)},bindPhoneNumber:function(t){t.pageName="setPageVal",getPhone.phoneChange(this,t)},onPageScroll:function(t){common.scrollIsTabFixed(this,t),common.goTopEvent(this,t.scrollTop)}});