"use strict";function buildPage(){return{data:{name:"",is_signIn_btn:"hide",list:[],adStatus:!1,isShowSignIn:!1,auth:["hide"],requestStatus:!1,contactStatus:!1,navRequestStatus:!1,iconStatus:!0,menuStatus:!1,alterHidden:"hide",tankuang:"hide",navList:[],info:{tankuang:"hide",list:[],swipers:[],activeIndex:0,tab:"",navStyle:"",temp:[],temp_name:"",zhuanlanList:[]},shopSearch:!1,menuList:{},learndefaultval:"专栏",learnSearchMenu:["专栏","单品"],isFixed:!0,is_edit:!1,is_selectAll:!1,totalNumber:0,totalMoney:0,selectCount:0,gonggao:{},danpinList:[],view_type:"normal",audeo_play_status:!1,windowHeight:0,hbq:"hide",isShareHb:0,ishbSet:0,current:1,mall:{seconNav:0,navList:[],shopData:[],currentTab:0,order:"",sort:0},seconNavL:[],seconNavIdx:"",isUserDefined:!1,cartNum:0,is_hidden:!0,orderNum:1,couponData:[],currentTab:0,showGoTop:!1,scanCodeDiancan:{list:[],alter:["hide"],shopInfo:""},kouling:"",hasmore:!0,peise:getApp().globalData.peise,logoPosBottom:!0,alterRequestStatus:!1,tk_status:"hide",activity:"",detailgg:"hide",shareAlter:"hide",shareAlter1:"hide",voteCurrent:1,showTypes:!1,publishId:"",isLoading:!1,bussAlter:["hide"],cateringList:[]},state:{pageOnShow:!1,isOnReachBottom:!0,isonPullDownRefresh:!1,offset:0,limit:10,hasmore:!0,time:"",page_color:"",page_bgcolor:"",page_title:"",page_name:"",page_id:0,gonggao_timer:null,layoutArrIndex:-1,layoutForm:{},videos:null,key:null,categoryid:"",upImg:"",keywords:"",searchKey:"",options:{},hasLoadCart:!1,learnSearchType:"col",learnSearchMenu1:["col","digitalcontent"]},tabOffsetTop:null,onLoad:function(e){wx.showLoading({title:"加载中...",mask:!0}),console.log(e),this.state.options=e,this.state.opt=e,this.config(e),applicationName.pageTemp.pageLoad(this),setPage.pageData(this,applicationName)},config:function(e){},onShow:function(){showPage.showData(this,applicationName)},authInfo:function(){var e=common.getStorage("userInfo");if(console.log(e),e.hasOwnProperty("id")&&!e.avatar_url.original_url&&!e.displayname&&0===Number(wx.getStorageSync("authALter"))){wx.setStorageSync("authALter",1);var t=this.data.auth;t[0]="show",this.setData({auth:t})}},onHide:function(){wx.setStorageSync("authALter",1);var e=this.data.auth;e[0]="hide",this.setData({auth:e})},closeAuth:function(){var e=this.data.auth;e[0]="hide",this.setData({auth:e})},onUnload:function(){this.state.time&&clearInterval(this.state.time)},shopListEvent:function(e){applicationName.mall.shopListChangeEvent(this,e)},blurInput:function(e){applicationName.mall.inputBlur(this,e)},close_signIn_btn:function(){this.setData({is_signIn_btn:"hide"}),common.setStorage("is_signIn_btn","hide"),common.setStorage("hide_signIn_btn_time",util.getFormatDate(new Date))},bindPhoneNumber:function(e){e.pageName="setPageVal",getPhone.phoneChange(this,e)},store:function(e){this.setData(e)},onPullDownRefresh:function(){if("sales"===this.state.page_name)return void wx.stopPullDownRefresh();pullDownPage.pullDownData(this,applicationName)},onReachBottom:function(){reachPage.reachData(this,applicationName)},scrolltolower:function(e){var t=e.currentTarget.dataset.types;this.state.isonPullDownRefresh||this.state.isOnReachBottom&&this.state.hasmore&&(this.state.offset=this.state.offset+this.state.limit,wx.showLoading({title:"加载中...",mask:!0}),"shopList"===t&&applicationName.mall.getGoodsList(this.state.offset,this),this.state.isOnReachBottom=!1)},onShareAppMessage:function(e){var t=this.state.key,a=this,s=this.state.page_name;if("shopList"===s||"newMovement"===s||"list"===s){var i="/pages/index/"+t+"/"+t+"?category_id="+a.state.categoryid;return{title:a.state.page_title,path:i}}if("sameCity"===this.state.page_name&&"button"===e.from){var o=a.data.list,n=e.target.dataset.index,r="";return o[n].attachments.length>0&&(r=o[n].attachments[0].thumb_medium_url),{title:o[n].title,path:"/pages/sameCity/pages/detail/detail?id="+o[n].id,imageUrl:r}}if("userDefined"===this.state.page_name){var l="/pages/index/"+t+"/"+t;return{title:a.state.page_title,path:l}}if("sales"===this.state.page_name){var m=a.data.myInfo.id,u="",p=a.data.selasInfo.title,h=a.data.selasInfo.cover;if("menu"===e.from||"apply"===e.target.dataset.page)u="pages/market/pages/extension/extensionCenter/extensionCenter?uid="+m;else{var g=a.data.tgDataDetail;h=g.cover.original_url,p=g.title,u=applicationName.salesTemp.tgShare(a)}return console.log(u),a.fangShiHide(),{title:p,imageUrl:h,path:u}}if("answer"===this.state.page_name){var c=a.data.activity,d=getCurrentPages(),f=d[d.length-1],P="/"+f.route+"?uid="+a.data.userInfo.id;return console.log(P),"show"==a.data.shareAlter&&a.setData({shareAlter:"hide"}),{title:c.name,imageUrl:c.rankListImg?c.rankListImg.thumb_medium_url:"",path:P,success:function(t){"part"==e.target.dataset.types&&"button"==e.from&&applicationName.answerTemp.partNum(a)}}}return{}},onPageScroll:function(e){common.scrollIsTabFixed(this,e),common.goTopEvent(this,e.scrollTop),"vote"==this.state.page_name&&this.data.showTypes&&applicationName.voteTemp.offTopVal(this)}}}var common=getApp().globalData.commonFun,dataTemp=getApp().globalData.dataTempFun,util=getApp().globalData.utilFun,setPage=require("setPage.js"),showPage=require("showPage.js"),pullDownPage=require("pullDownPage.js"),reachPage=require("reachPage.js"),getPhone=getApp().globalData.phoneFun,applicationName={pageTemp:require("temp.js"),userDefTemp:require("../userDefined/temp/userDefined.js"),mall:require("../commonPage/mall/shopListTemp.js"),mallCart:require("../commonPage/mall/shopCartTemp.js"),columnTemp:require("../commonPage/zhuanlan/temp.js"),catalog:require("../commonPage/sameCity/temp.js"),restaurant:require("../commonPage/dianCan/temp.js"),voiceHongbao:require("../commonPage/commandHb/publishHb.js"),easyYuyue:require("../commonPage/appointment/temp.js"),service:require("../commonPage/yuexpert/temp.js"),enter:require("../commonPage/settleIn/temp.js"),house:require("../commonPage/house/temp.js"),carpooling:require("../commonPage/car/temp.js"),bargTemp:require("../commonPage/bargain/temp.js"),hotTemp:require("../commonPage/hotel/temp.js"),bagTemp:require("../commonPage/bag/temp.js"),salesTemp:require("../commonPage/extension/comfunc.js"),answerTemp:require("../commonPage/answer/temp.js"),voteTemp:require("../commonPage/vote/temp.js"),busiCardTemp:require("../commonPage/businessCard/temp.js"),catering:require("../commonPage/catering/temp.js")};module.exports={buildPage:buildPage};