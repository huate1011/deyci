"use strict";function buildPage(){return{data:{danpinList:[],requestStatus:!1,logoPosBottom:!0,adStatus:!0,info:{zhuanlanList:[]},learndefaultval:"专栏",learnSearchMenu:["专栏","单品"]},state:{offset:0,limit:10,hasmore:!0,isOnReachBottom:!1,dataType:"",pageOnShow:!1,learnSearchType:"col",learnSearchMenu1:["col","digitalcontent"]},onLoad:function(){wx.showLoading({title:"加载中...",mask:!0}),this.config();var t=this;common.getAccessToken()?(common.commonFun(t),common.configData("learn",function(){t.unavailable()})):getApp().globalData.tokenUpdated=function(){console.log("update success"),common.commonFun(t),common.configData("learn",function(){t.unavailable()})}},unavailable:function(){var t=common.getStorage("config").learn;t.module?dpTemp.getData(this,0):common.showClickModal(t.msg)},config:function(){},onShow:function(){var t=this;getApp().globalData.updateDanpinCallback=function(a){var o=t.data.danpinList;dpTemp.getDanpinDetail(t,o[a].id,a)},getApp().globalData.updateZhuanlanCallback=function(a){var o=t.data.info;dpTemp.getZhuanlanDetail(t,o.zhuanlanList[a].id,a)}},onPullDownRefresh:function(){wx.showLoading({title:"加载中...",mask:!0}),this.state.hasmore=!0,this.state.offset=0,dpTemp.getData(this,0)},onReachBottom:function(){this.state.isOnReachBottom&&this.state.hasmore&&(wx.showLoading({title:"加载中...",mask:!0}),this.state.offset=this.state.offset+this.state.limit,dpTemp.getData(this,this.state.offset),this.state.isOnReachBottom=!1)}}}var common=getApp().globalData.commonFun,dpTemp=require("../../../commonPage/zhuanlan/temp.js");module.exports={buildPage:buildPage};