"use strict";function close(t){var e=t.currentTarget.dataset.index,a=this.data.tankuang;a[e]="hide",this.store({tankuang:a})}function zhifuEnd(t,e){wx.hideLoading(),wx.showModal({title:"提示",content:e,showCancel:!1,success:function(e){common.getAlter(t,"paypop",function(e,a){"show"===a?t.setData({alter:e,alterHidden:a}):t.state.backIndex?t.getDetailInfo(t.state.options.id,t.state.backIndex):t.getDetailInfo(t.state.options.id)})}})}function payEvent(t){t.pageName="order",payTempImport.payChangeEvent(this,t)}function callPayment(t,e,a,n){var o="/formOrder/"+t.state.shopOrderId+"/payment",s={wx_form_id:a,method:"pay",platform:e};payTempImport.payment(t,o,s,function(e,a){"success"===e?zhifuEnd(t,"支付成功"):common.showClickModal(a)})}function walletPay(t){payTempImport.payRequest(t,function(e){"success"===e.result?zhifuEnd(t,"支付成功"):common.showClickModal(e.msg)})}function shopListEvent(t){var e=t.currentTarget.dataset;e.name="payAlter",common.openUrl(e,this),this.getDetailInfo(this.state.options.id)}function loadFun(t){t.payEvent=payEvent,t.callPayment=callPayment,t.walletPay=walletPay,t.shopListEvent=shopListEvent,t.close=close}function delOrder(t,e){wx.showLoading({title:"删除中，请稍等...",mask:!0});var a="/form/delete/"+t;util.httpRequest(a,{},"POST").then(function(t){wx.hideLoading(),"success"===t.result?wx.showModal({title:"提示",content:t.msg,showCancel:!1,success:function(t){e("success")}}):common.showClickModal(t.msg)})}var common=getApp().globalData.commonFun,util=getApp().globalData.utilFun,payTempImport=getApp().globalData.payTemp;module.exports={loadFun:loadFun,delOrder:delOrder};