"use strict";var indexData=require("data.js"),common=getApp().globalData.commonFun,util=getApp().globalData.utilFun;Page({data:{alterHidden:"hide",interfaceName:"lhkj",programs:indexData.programData,features:indexData.featuresData,industry:indexData.industryData,carousel:indexData.carouselData,entranceScene:indexData.entranceSceneData,scrollTop:0,showGoTop:!1,focusInputs:[!1,!1,!1],radioValue:1,lhkjInfo:"",anliData:[]},onLoad:function(t){var a=wx.getSystemInfoSync(),o=a.windowHeight;this.setData({winHeight:o}),this.getActivityInfo(),common.commonFun(this)},onShow:function(){this.getAnliList()},getActivityInfo:function(){var t=this;util.httpRequest("/activity/1/").then(function(a){var o={phone:a.customer_service.phone,enroll_count:a.enroll_count,address:a.location.desc};t.setData({lhkjInfo:o})})},getAnliList:function(){var t=this;util.httpRequest("/samples/?offset=0&limit=6").then(function(a){t.setData({anliData:a.results}),wx.hideLoading()})},reportFuc:function(t){wx.showLoading({title:"信息提交中...",mask:!0});util.httpRequest("/report/",t,"POST").then(function(t){wx.hideLoading(),common.showTimeToast("信息提交成功！")}).catch(function(t){wx.hideLoading(),common.showTimeToast("信息提交失败！")})},inputFocus:function(t){var a=t.currentTarget.dataset.number,o=this.data.focusInputs;o[a]=!0,this.setData({focusInputs:o})},inputBlur:function(t){var a=t.currentTarget.dataset.number,o=this.data.focusInputs;o[a]=!1,this.setData({focusInputs:o})},formSubmit:function(t){var a=this.data.radioValue;a=0===a?"自主运营":"代理加盟";var o=t.detail.value;o.type="join",o.content=a,o.wx_form_id=t.detail.formId;var n=o.name,e=o.phone,i=o.company;return common.isNull(n)?void common.showTimeToast("请填写名称"):common.isNull(e)?void common.showTimeToast("请填写电话"):common.isNull(i)?void common.showTimeToast("请填写您的公司"):void this.reportFuc(o)},radioChange:function(t){this.setData({radioValue:t.detail.value})},callPhone:function(t){var a=this;common.phoneCall(a.data.lhkjInfo.phone)},scroll:function(t){var a=t.detail.scrollTop;common.goTopEvent(this,a)},onBackTop:function(){this.setData({scrollTop:0})},seeAnliDetails:function(t){var a=t.currentTarget.dataset.imageurl,o=t.currentTarget.dataset.link;common.isNull(o)&&common.seeBigImg(1,a,"")},onShareAppMessage:function(t){return{title:"好建小程序：一键生成微信小程序",path:"pages/common/pages/lhkj/lhkj",success:function(t){},fail:function(t){}}}});