"use strict";var dataTemp=getApp().globalData.dataTempFun,common=getApp().globalData.commonFun;Page({data:{requestStatus:!1,list:[]},state:{pageOnShow:!1,isOnReachBottom:!0,isonPullDownRefresh:!1,hasmore:!0,offset:0,limit:10},onLoad:function(){var t=this;wx.showLoading({title:"加载中...",mask:!0}),common.getAccessToken()?dataTemp.formList(t,0):getApp().globalData.tokenUpdated=function(){console.log("update success"),dataTemp.formList(t,0)}},onPullDownRefresh:function(){this.state.isonPullDownRefresh=!0,wx.showLoading({title:"加载中...",mask:!0}),this.state.offset=0,dataTemp.formList(this,0)},onReachBottom:function(){this.state.isonPullDownRefresh||this.state.isOnReachBottom&&this.state.hasmore&&(wx.showLoading({title:"加载中...",mask:!0}),this.state.offset=this.state.offset+this.state.limit,dataTemp.formList(this,this.state.offset),this.state.isOnReachBottom=!1)},onShareAppMessage:function(t){}});