"use strict";var common=getApp().globalData.commonFun,util=getApp().globalData.utilFun,payTempImport=getApp().globalData.payTemp;Page({data:{interfaceName:"underlineCheck",contactStatus:!0,hdhInfo:{},price:"",peise:getApp().globalData.peise},state:function(){},onLoad:function(){wx.showLoading({title:"加载中...",mask:!0});var t=this;common.getAccessToken()?t.getHdhInfo():getApp().globalData.tokenUpdated=function(){console.log("update success"),t.getHdhInfo()}},getHdhInfo:function(){var t=this,o="/hdh/"+getApp().globalData.acid+"/";util.httpRequest(o).then(function(o){common.setStorage("hdhInfo",o),t.setData({hdhInfo:o}),wx.hideLoading()})},submit:function(t){var o=t.detail.value.price;if(common.isNull(o))return void common.showTimeToast("请输入支付金额");var a=this,e={money:o};wx.showLoading({title:"支付中...",mask:!0}),payTempImport.wxPayEvent("/api/PaymentToClient/pay",e,"v2",function(t,o){wx.showModal({title:"提示",content:o,icon:"loading",showCancel:!1,success:function(){a.setData({price:""})}})})}});